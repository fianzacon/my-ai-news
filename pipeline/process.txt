┌─────────────────────────────────────────────────────────────────┐
│ STEP 1: 스마트 수집 & 1차 중복 제거 (collectors.py)              │
├─────────────────────────────────────────────────────────────────┤
│ • Naver News API + Google News API 호출 (키워드: "AI")          │
│ • 제목 + 리드 문단(처음 2-3문장) 기반 임베딩 생성                 │
│ • 의미적 유사도 ≥85% → 중복 제거                                 │
│ • 가장 정보량 많은 기사 선택 (리드 문단 길이 우선)               │
│                                                                   │
│ 결과: 199개 수집 → 138개로 감소 (61개 중복 제거)                 │
└─────────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 2: 카테고리 필터링 (filtering.py) - PASS/FAIL 판정         │
├─────────────────────────────────────────────────────────────────┤
│ • LLM(Gemini)으로 각 기사 분류                                   │
│ • 4개 카테고리 중 하나라도 해당하면 PASS:                        │
│   1) solution (마케팅/광고 솔루션)                               │
│   2) case (기업 도입 사례)                                       │
│   3) technology (AI 기술/데이터 분석)                            │
│   4) regulation (법규/규제) ⚠️ 절대 제외 금지                   │
│ • REJECT: 연예/가십, 실질적 내용 없는 짧은 공지                  │
│ • 에러 시 기본값: PASS (false negative 방지)                     │
│ • Rate Limiting: 9 requests/minute (할당량 초과 방지)            │
│                                                                   │
│ 현재 진행: 10/138 처리 중 (48.7초 대기)                          │
└─────────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 3: 전문 추출 & 2차 중복 제거 (extraction.py)                │
├─────────────────────────────────────────────────────────────────┤
│ • newspaper4k로 전체 기사 본문 추출                              │
│ • 전문 기반 임베딩 생성                                          │
│ • 의미적 유사도 ≥90% → 중복 제거                                 │
│ • 대표 기사 1개만 유지                                           │
│                                                                   │
│ 예상: PASS된 기사들에서 추가 중복 제거                           │
└─────────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 4: 가치 검증 (analysis.py) - 비즈니스 관련성 체크          │
├─────────────────────────────────────────────────────────────────┤
│ • 전문 읽고 광고/마케팅 실무 가치 판단                           │
│ • 제외 대상:                                                     │
│   - 순수 학술/과학 논문 (비즈니스 연관성 없음)                   │
│   - 카테고리 통과했어도 실무 가치 없으면 제외 가능               │
│ • 규제 기사는 완전 무관하지 않는 한 유지                         │
│                                                                   │
│ 예상: 실질적 가치 없는 기사 추가 필터링                          │
└─────────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 5: 롯데멤버스 맥락 해석 (analysis.py)                      │
├─────────────────────────────────────────────────────────────────┤
│ • 롯데멤버스 광고/데이터 사업 관점에서 분석                      │
│ • Impact Type 분류:                                              │
│   - opportunity (기회)                                           │
│   - threat (위협)                                                │
│   - mixed (혼합)                                                 │
│   - watchlist (관찰 대상)                                        │
│ • Impact Areas (복수 선택 가능):                                 │
│   - 멤버십 데이터 활용                                           │
│   - 타겟팅/세그먼트                                              │
│   - 광고 대행/데이터 판매                                        │
│   - 온오프라인 연계                                              │
│   - 법률/컴플라이언스                                            │
│ • 한 문장 이유 설명                                              │
└─────────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 6: Webex 메시지 생성 (output.py)                           │
├─────────────────────────────────────────────────────────────────┤
│ • 정해진 포맷으로 변환:                                          │
│                                                                   │
│   [Company / Entity]                                             │
│   Google, OpenAI                                                 │
│                                                                   │
│   [Key Summary]                                                  │
│   핵심 사실만 2-3줄 요약                                         │
│                                                                   │
│   [Action]                                                       │
│   마케팅 실무자가 즉시 활용 가능한 액션 1문장                    │
│   (제안 아이디어, 대응 전략, 참고 사례 등)                       │
│                                                                   │
│ • 저장: test/webex_messages_YYYYMMDD_HHMMSS.txt                 │
└─────────────────────────────────────────────────────────────────┘